import{_ as I,p as q,B as A,b as f,c as a,a as t,d as m,h as g,t as r,E as D,m as N,w as p,v as y,u as V,o}from"./index-Cj42os1F.js";import{a as u}from"./inquiryApi-NvhQM4le.js";import{h as B}from"./moment-BLMuvzoS.js";const E={class:"custom-box-wrapper"},M={class:"custom-box p-5"},T={class:"m-2"},Y={class:"ms-1"},L={class:"fw-bold my-4"},S={key:0},U={class:"inquiry-info"},F={key:0,class:"ms-5"},H={class:"mt-3"},P={class:"content"},R={key:0},j={class:"d-flex mb-3 mt-3 align-items-start"},z={class:"textarea-container w-100"},G=["disabled"],J={key:1},K={class:"d-flex mb-3 mt-3 align-items-start"},O={class:"w-100"},Q={key:0},W={key:1,class:"textarea-container"},X={class:"d-flex mt-4 w-100 justify-content-between align-items-center"},Z={key:0,class:"ms-auto"},$={__name:"InquiryDetailPage",setup(ee){q();const i=A(),d=V(),c=i.params.no,e=f({}),l=f(!1),b=()=>{d.push({name:"inquiryList",query:i.query})},h=async()=>{if(!l.value){l.value=!0;return}if(!e.value.answeredContent||!e.value.answeredContent.trim()){alert("답변 내용을 입력해주세요.");return}if(!confirm("답변을 수정할까요?"))return;const s={infoId:e.value.infoId,userId:e.value.userId,answeredContent:e.value.answeredContent};await u.updateAnswer(s),l.value=!1,await w()},C=()=>{d.push({name:"inquiryUpdate",params:{no:c},query:i.query})},k=async()=>{if(!confirm("답변을 등록할까요?"))return;const s={infoId:e.value.infoId,userId:e.value.userId,answeredContent:e.value.answeredContent};console.log(s),await u.updateAnswer(s),d.push({name:"inquiryDetail",params:{no:e.value.infoId},query:i.query}).then(()=>{window.location.reload()})},_=async()=>{confirm("삭제할까요?")&&(await u.delete(c),d.push({name:"inquiryList",query:i.query}))},w=async()=>{e.value={infoId:111,userId:"user001",userName:"김콕재",title:"임시 제목입니다.",content:"이건 임시 내용입니다. 프론트 확인용입니다.",createdAt:"2025-06-14T12:00:00",isAnswered:!0,answeredContent:"이건 임시 답변 내용입니다."},e.value=await u.get(c),console.log("DETAIL",e.value)};w();const x=s=>!s||s.length<2?s:s[0]+"*"+s.slice(2);return(s,n)=>(o(),a("div",E,[t("div",M,[t("div",T,[n[4]||(n[4]=t("h4",{class:"fw-bold"},"문의사항",-1)),t("div",Y,[t("h5",L,[e.value.isAnswered?(o(),a("span",S,"[답변완료] ")):m("",!0),g(r(e.value.title),1)]),t("div",U,[t("span",null,r(x(e.value.userName)),1),e.value.createdAt?(o(),a("span",F,r(D(B)(e.value.createdAt).format("YYYY-MM-DD HH:mm")),1)):m("",!0)]),t("div",H,[n[2]||(n[2]=t("hr",null,null,-1)),t("div",P,r(e.value.content),1)]),e.value.isAnswered?(o(),a("div",J,[n[3]||(n[3]=t("div",{class:"fw-bold mb-3"},"답변",-1)),t("div",K,[t("div",O,[l.value?(o(),a("div",W,[p(t("textarea",{class:"form-control textarea-input","onUpdate:modelValue":n[1]||(n[1]=v=>e.value.answeredContent=v),rows:"10"},null,512),[[y,e.value.answeredContent]])])):(o(),a("div",Q,r(e.value.answeredContent),1))]),t("button",{class:"btn ms-3 answer",onClick:h},r(l.value?"입력":"수정"),1)])])):(o(),a("div",R,[t("form",{onSubmit:N(k,["prevent"])},[t("div",j,[t("div",z,[p(t("textarea",{class:"form-control textarea-input","onUpdate:modelValue":n[0]||(n[0]=v=>e.value.answeredContent=v),rows:"10"},null,512),[[y,e.value.answeredContent]])]),t("button",{class:"btn ms-3 answer",type:"submit",disabled:!e.value.answeredContent}," 입력 ",8,G)])],32)]))])]),t("div",X,[t("button",{class:"btn back",onClick:b},"목록"),t("button",{class:"btn delete",onClick:_},"문의 삭제"),e.value.isAnswered?m("",!0):(o(),a("div",Z,[t("button",{class:"btn edit",onClick:C},"수정"),t("button",{class:"btn delete",onClick:_},"삭제")]))])])]))}},ae=I($,[["__scopeId","data-v-998191c8"]]);export{ae as default};
