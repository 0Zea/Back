import{_ as V,b as w,f as D,A as N,B as L,C as B,e as M,c as p,a as t,w as Y,v as A,D as K,g as c,l as n,j as _,t as u,F as P,r as R,E as h,u as j,o as m,h as y,d as E}from"./index-CYcq9FJg.js";import{a as x}from"./inquiryApi-DTBuOiVp.js";import{h as F}from"./moment-BLMuvzoS.js";import"./index-B_YT07cM.js";const S={class:"custom-box-wrapper"},T={class:"custom-box p-5"},U={class:"d-flex justify-content-end mb-3"},z={class:"search-container mt-3 text-end"},G={class:"table"},H={class:"grayfont ellipsis-writer"},J={style:{width:"70px"},class:"text-center"},O={key:0},Q={class:"grayfont ellipsis-writer"},W={class:"grayfont"},X={class:"flex-grow-1 text-center"},Z={class:"text-end"},$={__name:"InquiryListPage",setup(tt){const i=L(),b=j(),l=w({}),k=D(()=>l.value.list),a=N({page:parseInt(i.query.page??1),amount:parseInt(i.query.amount??10)}),r=w(""),d=async()=>{try{const s={keyword:r.value,page:a.page,amount:a.amount};l.value=await x.getSearchList(s),console.log("검색 결과:",l.value)}catch(s){console.error("검색 실패:",s)}},C=async s=>{b.push({query:{page:s,amount:a.amount}})};B(i,async()=>{a.page=parseInt(i.query.page),a.amount=parseInt(i.query.amount),r.value?await d():await g(a)}),M(async()=>{r.value?await d():await g(a)});const g=async s=>{try{l.value=await x.getList(s),console.log(l.value)}catch{}};g(a);const v=s=>!s||s.length<2?s:s[0]+"*"+s.slice(2);return(s,e)=>{const f=_("router-link"),q=_("vue-awesome-paginate");return m(),p("div",S,[t("div",T,[e[11]||(e[11]=t("h4",{class:"fw-bold m-2"},"문의사항",-1)),t("div",U,[t("div",z,[Y(t("input",{type:"text",class:"search-input","onUpdate:modelValue":e[0]||(e[0]=o=>r.value=o),onKeyup:K(d,["enter"])},null,544),[[A,r.value]]),t("i",{class:"search-icon fa-solid fa-magnifying-glass",onClick:d})])]),t("table",G,[e[5]||(e[5]=t("thead",null,[t("tr",null,[t("th",{style:{width:"70px"}},"No"),t("th",null,"제목"),t("th",{style:{width:"100px"}},"작성자"),t("th",{style:{width:"120px"}},"작성일")])],-1)),t("tbody",null,[t("tr",null,[e[3]||(e[3]=t("td",{style:{width:"70px"},class:"text-center"},"1",-1)),t("td",null,[c(f,{class:"ellipsis-title link-reset ms-5",to:{name:"inquiryDetail",params:{no:111}}},{default:n(()=>e[2]||(e[2]=[y(" [답변완료] 임시제목 ")])),_:1,__:[2]})]),t("td",H,u(v("김콕재")),1),e[4]||(e[4]=t("td",{class:"grayfont"},"2025-06-14",-1))]),(m(!0),p(P,null,R(k.value,(o,I)=>(m(),p("tr",{key:o.infoId},[t("td",J,u(l.value.totalCount-((a.page-1)*a.amount+I)),1),t("td",null,[c(f,{class:"ellipsis-title link-reset ms-5",to:{name:"inquiryDetail",params:{no:o.infoId}}},{default:n(()=>[o.isAnswered?(m(),p("span",O,"[답변완료] ")):E("",!0),y(u(o.title),1)]),_:2},1032,["to"])]),t("td",Q,u(v(o.userName)),1),t("td",W,u(h(F)(o.createdAt).format("YYYY-MM-DD")),1)]))),128))])]),t("div",null,[t("div",X,[c(q,{"total-items":l.value.totalCount,"items-per-page":a.amount,"max-pages-shown":5,"show-ending-buttons":!0,modelValue:a.page,"onUpdate:modelValue":e[1]||(e[1]=o=>a.page=o),onClick:C},{"first-page-button":n(()=>e[6]||(e[6]=[t("i",{class:"fa-solid fa-angles-left"},null,-1)])),"prev-button":n(()=>e[7]||(e[7]=[t("i",{class:"fa-solid fa-angle-left"},null,-1)])),"next-button":n(()=>e[8]||(e[8]=[t("i",{class:"fa-solid fa-angle-right"},null,-1)])),"last-page-button":n(()=>e[9]||(e[9]=[t("i",{class:"fa-solid fa-angles-right"},null,-1)])),_:1},8,["total-items","items-per-page","modelValue"])]),t("div",Z,[c(f,{to:{name:"inquiryCreate",query:h(i).query},class:"btn fw-bold"},{default:n(()=>e[10]||(e[10]=[y("문의 작성 ")])),_:1,__:[10]},8,["to"])])])])])}}},lt=V($,[["__scopeId","data-v-6ae4a435"]]);export{lt as default};
