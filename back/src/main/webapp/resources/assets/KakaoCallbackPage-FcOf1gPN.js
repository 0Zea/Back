import{_ as l,p as u,e as i,u as p,c as h,a as t,o as d}from"./index-CYcq9FJg.js";const k={class:"callback-container"},_={__name:"KakaoCallbackPage",setup(m){const o=p(),n=u();return i(async()=>{var e;try{const r=new URLSearchParams(window.location.search).get("code");if(!r){console.error("인증 코드가 없습니다."),o.push("/auth/login");return}const c=await fetch(`http://localhost:8080/api/auth/kakao/callback?code=${r}`,{method:"GET",headers:{Accept:"application/json"}});if(c.ok){const s=await c.json();console.log("카카오 로그인 성공:",s),n.login({email:((e=s.user)==null?void 0:e.email)||"kakao_user",token:s.token}),o.push("/")}else console.error("카카오 로그인 실패"),alert("카카오 로그인에 실패했습니다."),o.push("/auth/login")}catch(a){console.error("카카오 로그인 처리 중 오류:",a),alert("카카오 로그인 처리 중 오류가 발생했습니다."),o.push("/auth/login")}}),(e,a)=>(d(),h("div",k,a[0]||(a[0]=[t("div",{class:"loading-spinner"},[t("div",{class:"spinner"}),t("p",null,"카카오 로그인 처리 중...")],-1)])))}},f=l(_,[["__scopeId","data-v-6bebf6c7"]]);export{f as default};
